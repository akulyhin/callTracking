{"version":3,"sources":["webpack:///./js/settings.js","webpack:///./js/script.js"],"names":["defaultPhones","selectorArr","document","querySelectorAll","changePhones","phones","forEach","selector","innerHTML","phone","phoneLink","replace","insertAdjacentHTML","href","window","location","search","indexOf","slice","toLowerCase","split","map","utm","localStorage","setItem","getItem"],"mappings":"0MAKMA,EAAgB,CACpB,qBACA,qBACA,sBCIIC,EAAcC,SAASC,iBDVZ,uBCajB,SAASC,EAAaC,GACpBJ,EAAYK,SAAQ,SAAAC,GAClBA,EAASC,UAAY,GACrBH,EAAOC,SAAQ,SAAAG,GAEb,IAAMC,EAAYD,EAAME,QAAQ,UAAW,IAC3CJ,EAASK,mBACP,YADF,oBAEsBF,EAFtB,KAEoCD,EAFpC,mBASN,IAAII,EAAOC,OAAOC,SAASF,KACvBG,EAASF,OAAOC,SAASC,QASH,GAAtBH,EAAKI,QAAQ,OACfD,EAASA,EAAOE,MAAM,GAAGC,eACTC,MAAM,KAGfC,KAAI,SAAAC,GACTC,aAAaC,QAAQF,EAAIF,MAAM,KAAK,GAAIE,EAAIF,MAAM,KAAK,ODjCvC,WCsChBG,aAAaE,QAAQ,cACvBrB,EDpCkB,CAAC,aAAc,aAAc,eCqCC,KAAvCmB,aAAaE,QAAQ,cAC9BrB,EAAaJ,GDlCM,aCmCVuB,aAAaE,QAAQ,cAC9BrB,EDjCmB,CAAC,eAAgB,eAAgB,iBAIlC,KC8BTmB,aAAaE,QAAQ,cAC9BrB,ED5BkB,CAAC,GAAI,GAAI,KC8B3BA,EAAaJ,I","file":"main.e75976a12ed6284bf17a.js","sourcesContent":["// Селектор места, куда вставить телефон(ны). Например: .phone или #phone\r\n// Если мест несколько, укажите селекторы через запятую\r\nconst selector = '.phone, .phone-1>h2';\r\n\r\n// Телефоны по-умолчанию\r\nconst defaultPhones = [\r\n  '+38(098) 745-26-16',\r\n  '+38(098) 123-45-67',\r\n  '+38(050) 123-45-67',\r\n];\r\n\r\n// ---- Первый источник ----\r\n// Пропишите название источника трафика utm_source\r\nconst firstSource = 'google';\r\n\r\n// Телефоны для firstSource\r\nconst firstPhones = ['+380Google', '+380Google', '+380Google'];\r\n\r\n// ---- Второй источник ----\r\n// Пропишите название источника трафика utm_source\r\nconst secondSource = 'facebook';\r\n\r\n//  Телефоны для secondSource\r\nconst secondPhones = ['+380Facebook', '+380Facebook', '+380Facebook'];\r\n\r\n// ---- Третий источник ----\r\n// Пропишите название источника трафика utm_source\r\nconst thirdSource = '';\r\n\r\n//  Телефоны для thirdSource\r\nconst thirdPhones = ['', '', ''];\r\n\r\nexport {\r\n  defaultPhones,\r\n  firstPhones,\r\n  secondPhones,\r\n  firstSource,\r\n  secondSource,\r\n  thirdSource,\r\n  thirdPhones,\r\n  selector,\r\n};\r\n","import {\r\n  defaultPhones,\r\n  firstPhones,\r\n  secondPhones,\r\n  firstSource,\r\n  secondSource,\r\n  thirdSource,\r\n  thirdPhones,\r\n  selector,\r\n} from './settings.js';\r\n\r\n//Определяем блок по селектору для записи телефонов\r\nconst selectorArr = document.querySelectorAll(selector);\r\n\r\n// функция перебора массива телефонов и селекторов и вставки в наш блок\r\nfunction changePhones(phones) {\r\n  selectorArr.forEach(selector => {\r\n    selector.innerHTML = '';\r\n    phones.forEach(phone => {\r\n      // Создаем ccылку (tel:phone) и чистим ее от всех пробелов и знаков\r\n      const phoneLink = phone.replace(/[() -]/g, '');\r\n      selector.insertAdjacentHTML(\r\n        'beforeend',\r\n        `<li><a href=\"tel:${phoneLink}\">${phone}</a></li>`,\r\n      );\r\n    });\r\n  });\r\n}\r\n\r\n// Переменные с текущей ссылкой и корнем после слеша\r\nlet href = window.location.href;\r\nlet search = window.location.search;\r\n\r\n// console.log(href);\r\n// console.log(search);\r\n\r\n// массив для будущих ютм\r\nlet utmArr = [];\r\n\r\n// Определяем ютм, разделям их по знаку \"&\", записываем их раздельно в массив с уменшенным регистром\r\nif (href.indexOf('?') != -1) {\r\n  search = search.slice(1).toLowerCase();\r\n  utmArr = search.split('&');\r\n\r\n  // перебираем массив и разбиваем каждый элемент по разделителю \"=\" и записываем в LocalStorage\r\n  utmArr.map(utm => {\r\n    localStorage.setItem(utm.split('=')[0], utm.split('=')[1]);\r\n  });\r\n}\r\n\r\n// определяем по ключу, если utm_source равен нашей строке, то отправляем в функцию необходимый массив телефонов\r\nif (localStorage.getItem('utm_source') === firstSource) {\r\n  changePhones(firstPhones);\r\n} else if (localStorage.getItem('utm_source') === '') {\r\n  changePhones(defaultPhones);\r\n} else if (localStorage.getItem('utm_source') === secondSource) {\r\n  changePhones(secondPhones);\r\n} else if (localStorage.getItem('utm_source') === thirdSource) {\r\n  changePhones(thirdPhones);\r\n} else {\r\n  changePhones(defaultPhones);\r\n}\r\n"],"sourceRoot":""}